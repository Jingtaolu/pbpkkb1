<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"
    "http://www.w3.org/TR/REC-html40/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite">
<title>MarvinSketch Image Creation Example</title>
<link rel="stylesheet" href="../../javacode.css" type="text/css">
</head>
<body>
<pre><tt><span class="comment">/*</span>
<span class="comment"> * Copyright (c) 1998-2015 ChemAxon Ltd. All Rights Reserved.</span>
<span class="comment"> </span><span class="comment">*/</span>

<span class="preproc">import</span><span class="normal"> chemaxon</span><span class="symbol">.</span><span class="normal">marvin</span><span class="symbol">.</span><span class="normal">beans</span><span class="symbol">.</span><span class="normal">MSketchPane</span><span class="symbol">;</span>

<span class="preproc">import</span><span class="normal"> javax</span><span class="symbol">.</span><span class="normal">swing</span><span class="symbol">.</span><span class="normal">Box</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> javax</span><span class="symbol">.</span><span class="normal">swing</span><span class="symbol">.</span><span class="normal">BoxLayout</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> javax</span><span class="symbol">.</span><span class="normal">swing</span><span class="symbol">.</span><span class="normal">ImageIcon</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> javax</span><span class="symbol">.</span><span class="normal">swing</span><span class="symbol">.</span><span class="normal">JButton</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> javax</span><span class="symbol">.</span><span class="normal">swing</span><span class="symbol">.</span><span class="normal">JLabel</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> javax</span><span class="symbol">.</span><span class="normal">swing</span><span class="symbol">.</span><span class="normal">JFrame</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> javax</span><span class="symbol">.</span><span class="normal">swing</span><span class="symbol">.</span><span class="normal">JPanel</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> javax</span><span class="symbol">.</span><span class="normal">swing</span><span class="symbol">.</span><span class="normal">JScrollPane</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> javax</span><span class="symbol">.</span><span class="normal">swing</span><span class="symbol">.</span><span class="normal">SwingConstants</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> java</span><span class="symbol">.</span><span class="normal">awt</span><span class="symbol">.</span><span class="normal">BorderLayout</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> java</span><span class="symbol">.</span><span class="normal">awt</span><span class="symbol">.</span><span class="normal">Color</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> java</span><span class="symbol">.</span><span class="normal">awt</span><span class="symbol">.</span><span class="normal">Dimension</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> java</span><span class="symbol">.</span><span class="normal">awt</span><span class="symbol">.</span><span class="normal">Image</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> java</span><span class="symbol">.</span><span class="normal">awt</span><span class="symbol">.</span><span class="normal">Insets</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> java</span><span class="symbol">.</span><span class="normal">awt</span><span class="symbol">.</span><span class="normal">GridBagConstraints</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> java</span><span class="symbol">.</span><span class="normal">awt</span><span class="symbol">.</span><span class="normal">GridBagLayout</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> java</span><span class="symbol">.</span><span class="normal">awt</span><span class="symbol">.</span><span class="normal">event</span><span class="symbol">.</span><span class="normal">ActionListener</span><span class="symbol">;</span>
<span class="preproc">import</span><span class="normal"> java</span><span class="symbol">.</span><span class="normal">awt</span><span class="symbol">.</span><span class="normal">event</span><span class="symbol">.</span><span class="normal">ActionEvent</span><span class="symbol">;</span>

<span class="comment">/**</span>
<span class="comment"> * In this image creation example a java.awt.Image is created</span>
<span class="comment"> * from the contents of the MarvinSketch canvas and is shown</span>
<span class="comment"> * on a sample GUI.</span>
<span class="comment"> *</span>
<span class="comment"> * For the detailed description of this example, please visit:</span>
<span class="comment"> * </span><span class="url">http://www.chemaxon.com/marvin/examples/beans/sketch-images/index.html</span>
<span class="comment"> *</span>
<span class="comment"> * </span><span class="type">@version</span><span class="comment"> 5.2.2, 05/15/2009</span>
<span class="comment"> * </span><span class="type">@author</span><span class="comment">  Judit Vasko-Szedlar</span>
<span class="comment"> * </span><span class="type">@author</span><span class="comment">  Peter Csizmadia</span>
<span class="comment"> * </span><span class="type">@since</span><span class="comment">   Marvin 4.0, 07/09/2005</span>
<span class="comment"> </span><span class="comment">*/</span>
<span class="keyword">public</span><span class="normal"> </span><span class="keyword">class</span><span class="normal"> SketchImages </span><span class="keyword">extends</span><span class="normal"> JPanel </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">private</span><span class="normal"> MSketchPane sketchPane</span><span class="symbol">;</span>
<span class="normal">    </span><span class="keyword">private</span><span class="normal"> JLabel imageArea</span><span class="symbol">,</span><span class="normal"> imageSize</span><span class="symbol">;</span>

<span class="normal">    </span><span class="keyword">public</span><span class="normal"> </span><span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">main</span><span class="symbol">(</span><span class="normal">String</span><span class="symbol">[</span><span class="symbol">]</span><span class="normal"> args</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="comment">//</span><span class="comment">Schedule a job for the event-dispatching thread:</span>
<span class="normal">        </span><span class="comment">//</span><span class="comment">creating and showing this application's GUI.</span>
<span class="normal">        javax</span><span class="symbol">.</span><span class="normal">swing</span><span class="symbol">.</span><span class="normal">SwingUtilities</span><span class="symbol">.</span><span class="function">invokeLater</span><span class="symbol">(</span><span class="keyword">new</span><span class="normal"> </span><span class="function">Runnable</span><span class="symbol">(</span><span class="symbol">)</span><span class="cbracket">{</span>
<span class="normal">            </span><span class="keyword">public</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">run</span><span class="symbol">(</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">                </span><span class="function">createAndShowGUI</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">            </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="cbracket">}</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="comment">/**</span>
<span class="comment">     * Create the GUI and show it. For thread safety,</span>
<span class="comment">     * this method should be invoked from the event-dispatching thread.</span>
<span class="comment">     </span><span class="comment">*/</span>
<span class="normal">    </span><span class="keyword">private</span><span class="normal"> </span><span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">createAndShowGUI</span><span class="symbol">(</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        JFrame sketch </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">new</span><span class="normal"> </span><span class="function">JFrame</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        sketch</span><span class="symbol">.</span><span class="function">setTitle</span><span class="symbol">(</span><span class="string">"MarvinSketch Images Example"</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        sketch</span><span class="symbol">.</span><span class="function">setDefaultCloseOperation</span><span class="symbol">(</span><span class="normal">JFrame</span><span class="symbol">.</span><span class="normal">EXIT_ON_CLOSE</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">        SketchImages sketchImages </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">new</span><span class="normal"> </span><span class="function">SketchImages</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">        sketch</span><span class="symbol">.</span><span class="function">getContentPane</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">.</span><span class="function">setLayout</span><span class="symbol">(</span><span class="keyword">new</span><span class="normal"> </span><span class="function">BorderLayout</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        sketch</span><span class="symbol">.</span><span class="function">getContentPane</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">.</span><span class="function">add</span><span class="symbol">(</span><span class="normal">sketchImages</span><span class="symbol">,</span><span class="normal"> BorderLayout</span><span class="symbol">.</span><span class="normal">CENTER</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">        sketch</span><span class="symbol">.</span><span class="function">pack</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        sketch</span><span class="symbol">.</span><span class="function">setLocationRelativeTo</span><span class="symbol">(</span><span class="keyword">null</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        sketch</span><span class="symbol">.</span><span class="function">setVisible</span><span class="symbol">(</span><span class="keyword">true</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="keyword">public</span><span class="normal"> </span><span class="function">SketchImages</span><span class="symbol">(</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="comment">//</span><span class="comment"> Creating the MarvinSketch JavaBean component.</span>
<span class="normal">	sketchPane </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">new</span><span class="normal"> </span><span class="function">MSketchPane</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        sketchPane</span><span class="symbol">.</span><span class="function">setPreferredSize</span><span class="symbol">(</span><span class="keyword">new</span><span class="normal"> </span><span class="function">Dimension</span><span class="symbol">(</span><span class="number">430</span><span class="symbol">,</span><span class="normal"> </span><span class="number">400</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        JPanel importExportPanel </span><span class="symbol">=</span><span class="normal"> </span><span class="function">createGetImagePanel</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">        imageSize </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">new</span><span class="normal"> </span><span class="function">JLabel</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        </span><span class="function">updateImageSizeLabel</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">        </span><span class="function">setLayout</span><span class="symbol">(</span><span class="keyword">new</span><span class="normal"> </span><span class="function">BorderLayout</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        </span><span class="function">add</span><span class="symbol">(</span><span class="normal">sketchPane</span><span class="symbol">,</span><span class="normal"> BorderLayout</span><span class="symbol">.</span><span class="normal">NORTH</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        </span><span class="function">add</span><span class="symbol">(</span><span class="normal">importExportPanel</span><span class="symbol">,</span><span class="normal"> BorderLayout</span><span class="symbol">.</span><span class="normal">CENTER</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        </span><span class="function">add</span><span class="symbol">(</span><span class="normal">imageSize</span><span class="symbol">,</span><span class="normal"> BorderLayout</span><span class="symbol">.</span><span class="normal">SOUTH</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="comment">//</span><span class="comment">Sets the contents of the canvas with the current</span>
<span class="normal">    </span><span class="comment">//</span><span class="comment"> scale factor on the label.</span>
<span class="normal">    </span><span class="keyword">public</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">getSketchImagePerformed</span><span class="symbol">(</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">sketchPane</span><span class="symbol">.</span><span class="function">getMol</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">=</span><span class="symbol">=</span><span class="keyword">null</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            imageArea</span><span class="symbol">.</span><span class="function">setIcon</span><span class="symbol">(</span><span class="keyword">null</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">            </span><span class="function">updateImageSizeLabel</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> getting the actual scale factor of the canvas</span>
<span class="normal">            </span><span class="type">double</span><span class="normal"> currentScale </span><span class="symbol">=</span><span class="normal"> sketchPane</span><span class="symbol">.</span><span class="function">getScale</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> getting the image of the canvas with</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> the current scale factor</span>
<span class="normal">            Image canvasImage </span><span class="symbol">=</span><span class="normal"> sketchPane</span><span class="symbol">.</span><span class="function">getImage</span><span class="symbol">(</span><span class="normal">currentScale</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> setting the image on the label</span>
<span class="normal">            imageArea</span><span class="symbol">.</span><span class="function">setIcon</span><span class="symbol">(</span><span class="keyword">new</span><span class="normal"> </span><span class="function">ImageIcon</span><span class="symbol">(</span><span class="normal">canvasImage</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> updating image sizes</span>
<span class="normal">            </span><span class="function">updateImageSizeLabel</span><span class="symbol">(</span><span class="normal">canvasImage</span><span class="symbol">.</span><span class="function">getWidth</span><span class="symbol">(</span><span class="keyword">null</span><span class="symbol">)</span><span class="symbol">,</span>
<span class="normal">                    canvasImage</span><span class="symbol">.</span><span class="function">getHeight</span><span class="symbol">(</span><span class="keyword">null</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        imageArea</span><span class="symbol">.</span><span class="function">invalidate</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        imageArea</span><span class="symbol">.</span><span class="function">repaint</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="comment">//</span><span class="comment">Converts the current molecule of the canvas to a 200x200 jpeg image</span>
<span class="normal">    </span><span class="comment">//</span><span class="comment">and sets it on the label.</span>
<span class="normal">    </span><span class="keyword">public</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">getMolImagePerformed</span><span class="symbol">(</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">sketchPane</span><span class="symbol">.</span><span class="function">getMol</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">=</span><span class="symbol">=</span><span class="keyword">null</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            imageArea</span><span class="symbol">.</span><span class="function">setIcon</span><span class="symbol">(</span><span class="keyword">null</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">            </span><span class="function">updateImageSizeLabel</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> The image format along with additional options should be set</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> as a String. The options are separated from the format</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> identifier with a colon, and from each other</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> with commas.</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> The maxscale parameter prevents overscaling of structures.</span>

<span class="normal">            </span><span class="comment">//</span><span class="comment"> Transparent background of images is supported in</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> PNG, SVG, PDF and EMF formats.</span>
<span class="normal">            String format </span><span class="symbol">=</span><span class="normal"> </span><span class="string">"png:w200,h200,maxscale28,transbg,#ffffffff"</span><span class="symbol">;</span>

<span class="normal">            </span><span class="comment">//</span><span class="comment"> Creating a jpeg image without transparent background</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment">String format = "jpeg:w200,h200,maxscale28";</span>

<span class="normal">            </span><span class="comment">//</span><span class="comment"> Converting the molecule shown on the canvas to binary</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> image representation.</span>
<span class="normal">            </span><span class="type">byte</span><span class="symbol">[</span><span class="symbol">]</span><span class="normal"> imageData </span><span class="symbol">=</span><span class="normal"> sketchPane</span><span class="symbol">.</span><span class="function">getMol</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">.</span><span class="function">toBinFormat</span><span class="symbol">(</span><span class="normal">format</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">            ImageIcon icon </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">new</span><span class="normal"> </span><span class="function">ImageIcon</span><span class="symbol">(</span><span class="normal">imageData</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">            imageArea</span><span class="symbol">.</span><span class="function">setIcon</span><span class="symbol">(</span><span class="normal">icon</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">            </span><span class="comment">//</span><span class="comment"> updating image sizes</span>
<span class="normal">            </span><span class="function">updateImageSizeLabel</span><span class="symbol">(</span><span class="normal">icon</span><span class="symbol">.</span><span class="function">getIconWidth</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">,</span><span class="normal"> icon</span><span class="symbol">.</span><span class="function">getIconHeight</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        imageArea</span><span class="symbol">.</span><span class="function">invalidate</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        imageArea</span><span class="symbol">.</span><span class="function">repaint</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="keyword">private</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">updateImageSizeLabel</span><span class="symbol">(</span><span class="type">int</span><span class="normal"> w</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> h</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        imageSize</span><span class="symbol">.</span><span class="function">setText</span><span class="symbol">(</span><span class="string">"Image dimensions: ["</span><span class="symbol">+</span><span class="normal">w</span><span class="symbol">+</span><span class="string">", "</span><span class="symbol">+</span><span class="normal">h</span><span class="symbol">+</span><span class="string">"]"</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="comment">//</span><span class="comment"> Creating and laying out GUI components.</span>
<span class="normal">    </span><span class="comment">//</span><span class="comment"> This part is not documented in details, since it is not directly</span>
<span class="normal">    </span><span class="comment">//</span><span class="comment"> related to using Marvin Beans.</span>
<span class="normal">    </span><span class="keyword">private</span><span class="normal"> JPanel </span><span class="function">createGetImagePanel</span><span class="symbol">(</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        JPanel getImagePanel </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">new</span><span class="normal"> </span><span class="function">JPanel</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        getImagePanel</span><span class="symbol">.</span><span class="function">setLayout</span><span class="symbol">(</span><span class="keyword">new</span><span class="normal"> </span><span class="function">GridBagLayout</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        </span><span class="symbol">(</span><span class="symbol">(</span><span class="normal">GridBagLayout</span><span class="symbol">)</span><span class="normal">getImagePanel</span><span class="symbol">.</span><span class="function">getLayout</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">.</span><span class="normal">columnWidths </span><span class="symbol">=</span>
<span class="normal">                </span><span class="keyword">new</span><span class="normal"> </span><span class="type">int</span><span class="symbol">[</span><span class="symbol">]</span><span class="normal"> </span><span class="cbracket">{</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="normal">        </span><span class="symbol">(</span><span class="symbol">(</span><span class="normal">GridBagLayout</span><span class="symbol">)</span><span class="normal">getImagePanel</span><span class="symbol">.</span><span class="function">getLayout</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">.</span><span class="normal">rowHeights </span><span class="symbol">=</span>
<span class="normal">                </span><span class="keyword">new</span><span class="normal"> </span><span class="type">int</span><span class="symbol">[</span><span class="symbol">]</span><span class="normal"> </span><span class="cbracket">{</span><span class="number">5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="normal">        </span><span class="symbol">(</span><span class="symbol">(</span><span class="normal">GridBagLayout</span><span class="symbol">)</span><span class="normal">getImagePanel</span><span class="symbol">.</span><span class="function">getLayout</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">.</span><span class="normal">columnWeights </span><span class="symbol">=</span>
<span class="normal">                </span><span class="keyword">new</span><span class="normal"> </span><span class="type">double</span><span class="symbol">[</span><span class="symbol">]</span><span class="normal"> </span><span class="cbracket">{</span><span class="number">1.0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1.0E-4</span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="normal">        </span><span class="symbol">(</span><span class="symbol">(</span><span class="normal">GridBagLayout</span><span class="symbol">)</span><span class="normal">getImagePanel</span><span class="symbol">.</span><span class="function">getLayout</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">.</span><span class="normal">rowWeights </span><span class="symbol">=</span>
<span class="normal">                </span><span class="keyword">new</span><span class="normal"> </span><span class="type">double</span><span class="symbol">[</span><span class="symbol">]</span><span class="normal"> </span><span class="cbracket">{</span><span class="number">0.0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0.0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0.0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1.0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1.0E-4</span><span class="cbracket">}</span><span class="symbol">;</span>

<span class="normal">	JButton getSketchImageButton </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">new</span><span class="normal"> </span><span class="function">JButton</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        getSketchImageButton</span><span class="symbol">.</span><span class="function">setText</span><span class="symbol">(</span><span class="string">"Get Sketch Image"</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        getSketchImageButton</span><span class="symbol">.</span><span class="function">addActionListener</span><span class="symbol">(</span><span class="keyword">new</span><span class="normal"> </span><span class="function">ActionListener</span><span class="symbol">(</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	    </span><span class="keyword">public</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">actionPerformed</span><span class="symbol">(</span><span class="normal">ActionEvent ev</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">                </span><span class="function">getSketchImagePerformed</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">	    </span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">        JButton getMolImageButton </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">new</span><span class="normal"> </span><span class="function">JButton</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        getMolImageButton</span><span class="symbol">.</span><span class="function">setText</span><span class="symbol">(</span><span class="string">"Get Molecule Image"</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        getMolImageButton</span><span class="symbol">.</span><span class="function">addActionListener</span><span class="symbol">(</span><span class="keyword">new</span><span class="normal"> </span><span class="function">ActionListener</span><span class="symbol">(</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            </span><span class="keyword">public</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">actionPerformed</span><span class="symbol">(</span><span class="normal">ActionEvent ev</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">                </span><span class="function">getMolImagePerformed</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">            </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="cbracket">}</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">        JPanel buttonPanel </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">new</span><span class="normal"> </span><span class="function">JPanel</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        buttonPanel</span><span class="symbol">.</span><span class="function">setLayout</span><span class="symbol">(</span><span class="keyword">new</span><span class="normal"> </span><span class="function">BoxLayout</span><span class="symbol">(</span><span class="normal">buttonPanel</span><span class="symbol">,</span><span class="normal"> BoxLayout</span><span class="symbol">.</span><span class="normal">X_AXIS</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        buttonPanel</span><span class="symbol">.</span><span class="function">add</span><span class="symbol">(</span><span class="normal">Box</span><span class="symbol">.</span><span class="function">createHorizontalGlue</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        buttonPanel</span><span class="symbol">.</span><span class="function">add</span><span class="symbol">(</span><span class="normal">getSketchImageButton</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        buttonPanel</span><span class="symbol">.</span><span class="function">add</span><span class="symbol">(</span><span class="normal">Box</span><span class="symbol">.</span><span class="function">createHorizontalStrut</span><span class="symbol">(</span><span class="number">10</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        buttonPanel</span><span class="symbol">.</span><span class="function">add</span><span class="symbol">(</span><span class="normal">getMolImageButton</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        buttonPanel</span><span class="symbol">.</span><span class="function">add</span><span class="symbol">(</span><span class="normal">Box</span><span class="symbol">.</span><span class="function">createHorizontalGlue</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">        imageArea </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">new</span><span class="normal"> </span><span class="function">JLabel</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        imageArea</span><span class="symbol">.</span><span class="function">setBackground</span><span class="symbol">(</span><span class="keyword">new</span><span class="normal"> </span><span class="function">Color</span><span class="symbol">(</span><span class="number">237</span><span class="symbol">,</span><span class="normal"> </span><span class="number">210</span><span class="symbol">,</span><span class="normal"> </span><span class="number">184</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        imageArea</span><span class="symbol">.</span><span class="function">setOpaque</span><span class="symbol">(</span><span class="keyword">true</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        imageArea</span><span class="symbol">.</span><span class="function">setHorizontalAlignment</span><span class="symbol">(</span><span class="normal">SwingConstants</span><span class="symbol">.</span><span class="normal">CENTER</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        JScrollPane scrollPane </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">new</span><span class="normal"> </span><span class="function">JScrollPane</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        scrollPane</span><span class="symbol">.</span><span class="function">setViewportView</span><span class="symbol">(</span><span class="normal">imageArea</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        scrollPane</span><span class="symbol">.</span><span class="function">setPreferredSize</span><span class="symbol">(</span><span class="keyword">new</span><span class="normal"> </span><span class="function">Dimension</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">200</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">        getImagePanel</span><span class="symbol">.</span><span class="function">add</span><span class="symbol">(</span><span class="normal">buttonPanel</span><span class="symbol">,</span>
<span class="normal">                </span><span class="keyword">new</span><span class="normal"> </span><span class="function">GridBagConstraints</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0.0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0.0</span><span class="symbol">,</span>
<span class="normal">                GridBagConstraints</span><span class="symbol">.</span><span class="normal">CENTER</span><span class="symbol">,</span><span class="normal"> GridBagConstraints</span><span class="symbol">.</span><span class="normal">HORIZONTAL</span><span class="symbol">,</span>
<span class="normal">                </span><span class="keyword">new</span><span class="normal"> </span><span class="function">Insets</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">        getImagePanel</span><span class="symbol">.</span><span class="function">add</span><span class="symbol">(</span><span class="normal">scrollPane</span><span class="symbol">,</span>
<span class="normal">                </span><span class="keyword">new</span><span class="normal"> </span><span class="function">GridBagConstraints</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0.0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0.0</span><span class="symbol">,</span>
<span class="normal">                GridBagConstraints</span><span class="symbol">.</span><span class="normal">CENTER</span><span class="symbol">,</span><span class="normal"> GridBagConstraints</span><span class="symbol">.</span><span class="normal">BOTH</span><span class="symbol">,</span>
<span class="normal">                </span><span class="keyword">new</span><span class="normal"> </span><span class="function">Insets</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">        </span><span class="keyword">return</span><span class="normal"> getImagePanel</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="cbracket">}</span>
</tt></pre>
</body>
</html>
